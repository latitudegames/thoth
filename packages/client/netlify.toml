# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory that contains the deploy-ready HTML files and assets generated by
  # the build. This is relative to the base directory if one has been set, or the
  # root directory if a base has not been set. This sample publishes the
  # directory located at the absolute path "root/project/build-output"

[[redirects]]
    from = "./*"
    to = "/index.html"
    status = 200

#  ALL DEPLOY PREVIEWS
# [[context.deploy-preview.plugins]]
#    package = "../../netlify/plugins/conditional-canary"

[context.deploy-preview.environment]
    REACT_APP_API_URL="https://latitude-api-staging.herokuapp.com"

#  STAGING DEPLOYMENT
[[context.staging.plugins]]
    package = "../../netlify/plugins/staging-canary"

[context.staging.environment]
    REACT_APP_LAPI_ROOT_URL_PROD="https://latitude-api-staging.herokuapp.com"
    REACT_APP_API_URL="https://latitude-api-staging.herokuapp.com"
    REACT_APP_SITE_ROOT_URL_PROD="https://staging.thoth.latitude.io"
    REACT_APP_OAUTH_CLIENT_ID="a89bb9dc-074c-4376-a5a4-a48c24bc4c42"